{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","index.js","images/logo-mesto.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","onCardDislike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","PopupWithForm","isOpen","children","onClose","title","submit","onSubmit","noValidate","type","value","ImagePopup","api","baseUrl","headers","this","res","ok","json","Promise","reject","Error","status","all","getInitialCards","getUserInfo","fetch","then","_handleOriginalResponse","item","method","body","JSON","stringify","id","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","onChange","target","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","ConfirmDeletePopup","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setCurrentUser","setCards","getAllInfo","dataCards","dataProfile","catch","err","console","log","handleEscClose","evt","closeAllPopups","document","addEventListener","removeEventListener","Provider","putLike","newCard","newCards","c","removeLike","data","setUserInfo","editAvatar","addCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.c946a9fe.chunk.js","sourcesContent":["import React from 'react'\nimport logo from '../images/logo-mesto.svg'\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"logo\" alt=\"Логотип\" />\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <h4 className=\"footer__author\">&copy; 2020 Mesto Russia</h4>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card({ card, onCardClick, onCardDelete, onCardLike, onCardDislike }) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id // Определяем, являемся ли мы владельцем текущей карточки\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id) // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n\n  const cardLikeButtonClassName = `element__like ${isLiked && 'element__like_theme_black'}`\n  const handleClick = () => {\n    onCardClick(card)\n  }\n  const handleDeleteClick = () => {\n    onCardDelete(card._id)\n  }\n  const handleLikeClick = () => {\n    onCardLike(card)\n  }\n  const handleDislikeClick = () => {\n    onCardDislike(card)\n  }\n\n  return (\n    <li className=\"element\">\n      <img\n        style={{ backgroundImage: `url(${card.link})` }}\n        className=\"element__image\"\n        alt=\"\"\n        onClick={handleClick}\n      />\n      {isOwn && <button className=\"element__trash\" onClick={handleDeleteClick} />}\n      <div className=\"element__info\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={isLiked ? handleDislikeClick : handleLikeClick}\n          />\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDislike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" onClick={onEditProfile} />\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" onClick={onAddPlace} />\n      </section>\n\n      <div className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n              onCardLike={onCardLike}\n              onCardDislike={onCardDislike}\n            />\n          ))}\n        </ul>\n      </div>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction PopupWithForm({ isOpen, children, onClose, name, title, submit, onSubmit }) {\n  return (\n    <section\n      className={`popup popup_${name} ${isOpen && `popup_opened`} `}\n      //onClick={(evt) => evt.target === evt.currentTarget && { onClose }}\n    >\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" onClick={onClose} />\n        <form className=\"popup__form-container\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__title\">{title}</h2>\n          <fieldset className=\"popup__form\">\n            {children}\n            <input type=\"submit\" className=\"popup__button\" value={submit} onClick={onClose} />\n          </fieldset>\n        </form>\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithForm\n","import React from 'react'\n\nfunction ImagePopup({ card, onClose, name }) {\n  return (\n    <section className={`popup popup_${name} ${card && 'popup_opened'}`}>\n      <div className=\"popup__container-place\">\n        <img src={card && card.link} className=\"popup__image\" alt={card && card.name} />\n        <p className=\"popup__place\">{card && card.name}</p>\n        <button className=\"popup__close\" onClick={onClose} />\n      </div>\n    </section>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl\n    this.headers = headers\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(new Error(`Что-то пошло не так: ${res.status}`))\n  }\n  getAllInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  addCard(item) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  editAvatar(item) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  putLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  removeLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: 'e63db112-531a-4c6f-ae02-ccc048d1696b',\n    'Content-Type': 'application/json',\n  },\n})\nexport default api\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const handleNameChange = (e) => {\n    setName(e.target.value)\n  }\n  const handleJobChange = (e) => {\n    setDescription(e.target.value)\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      submit=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          className=\"popup__name popup__input\"\n          placeholder=\"Имя\"\n          value={name || ''}\n          onChange={handleNameChange}\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span className=\"popup__input-error\" id=\"name-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"job\"\n          name=\"about\"\n          className=\"popup__job popup__input\"\n          placeholder=\"Профессия\"\n          value={description || ''}\n          onChange={handleJobChange}\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        <span className=\"popup__input-error\" id=\"job-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      submit=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"url\"\n          id=\"link\"\n          name=\"avatar\"\n          className=\"popup__job popup__job_theme_place popup__input\"\n          placeholder=\"Ссылка на аватар\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  const nameRef = React.useRef()\n  const linkRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-place\"\n      title=\"Новое место\"\n      submit=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"place\"\n          name=\"name\"\n          className=\"popup__name popup__name_theme_place popup__input\"\n          placeholder=\"Название\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n          ref={nameRef}\n        />\n        <span className=\"popup__input-error\" id=\"place-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          type=\"url\"\n          id=\"link\"\n          name=\"link\"\n          className=\"popup__job popup__job_theme_place popup__input\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          ref={linkRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\nexport default AddPlacePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction ConfirmDeletePopup({ cardId, isOpen, onClose, onSubmit} ) {\n   const handleConfirm = (e) => {\n    e.preventDefault()\n    onSubmit(cardId)\n   }\n\n  return (\n    <PopupWithForm \n      name=\"delete\" \n      title=\"Вы уверенны?\" \n      submit=\"Да\" \n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleConfirm}\n    />\n    \n  )\n}\n\nexport default ConfirmDeletePopup\n","import React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/Api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ConfirmDeletePopup from './ConfirmDeletePopup'\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false)\n\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [cardToDelete, setCardToDelete] = React.useState(null)\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  React.useEffect(() => {\n    api\n      .getAllInfo()\n      .then((res) => {\n        const [dataCards, dataProfile] = res\n        setCards(dataCards)\n        setCurrentUser(dataProfile)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    const handleEscClose = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n    document.addEventListener('keydown', handleEscClose)\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  },[])\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api\n      .putLike(card._id, !isLiked) // Отправляем запрос в API и получаем обновлённые данные карточки\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c)) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        setCards(newCards) // Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleCardDislike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api\n      .removeLike(card._id, !isLiked) // Отправляем запрос в API и получаем обновлённые данные карточки\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c)) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        setCards(newCards) // Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleCardDelete = (id) => {\n    api\n      .deleteCard(id)\n      .then(() => {\n        const newCards = cards.filter((item) => item._id !== id)\n        setCards(newCards)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleUpdateUser = (data) => {\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api\n      .editAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api\n      .addCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n  const handleCardClick = (selectedCard) => {\n    setSelectedCard(selectedCard)\n  }\n  const handleDeleteClick = (cardId) => {\n    setIsDeletePopupOpen(true)\n    setCardToDelete(cardId)\n  }\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard(null)\n    setIsDeletePopupOpen(false)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleDeleteClick}\n            onCardLike={handleCardLike}\n            onCardDislike={handleCardDislike}\n            cards={cards}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ConfirmDeletePopup\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            cardId={cardToDelete}\n            onSubmit={handleCardDelete}\n          />\n          <ImagePopup name=\"photo-zoom\" card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/logo-mesto.c6f11019.svg\";"],"sourceRoot":""}