{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/logo-mesto.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","onCardDislike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","type","defaultValue","PopupWithForm","isOpen","children","onClose","title","submit","onSubmit","evt","target","currentTarget","noValidate","value","ImagePopup","api","baseUrl","headers","this","res","ok","json","Promise","reject","Error","status","all","getInitialCards","getUserInfo","fetch","then","_handleOriginalResponse","item","method","body","JSON","stringify","id","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","onChange","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getAllInfo","dataCards","dataProfile","catch","err","console","log","handleEscClose","closeAllPopups","document","addEventListener","removeEventListener","Provider","deleteCard","newCards","filter","putLike","newCard","c","removeLike","data","setUserInfo","editAvatar","addCard","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7a329c8a.chunk.js","sourcesContent":["import React from 'react'\nimport logo from '../images/logo-mesto.svg'\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"logo\" alt=\"Логотип\" />\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <h4 className=\"footer__author\">&copy; 2020 Mesto Russia</h4>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card({ card, onCardClick, onCardDelete, onCardLike, onCardDislike }) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id // Определяем, являемся ли мы владельцем текущей карточки\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id) // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n\n  const cardLikeButtonClassName = `element__like ${isLiked && 'element__like_theme_black'}`\n  const handleClick = () => {\n    onCardClick(card)\n  }\n  const handleDeleteClick = () => {\n    onCardDelete(card._id)\n  }\n  const handleLikeClick = () => {\n    onCardLike(card)\n  }\n  const handleDislikeClick = () => {\n    onCardDislike(card)\n  }\n\n  return (\n    <li className=\"element\">\n      <img\n        style={{ backgroundImage: `url(${card.link})` }}\n        className=\"element__image\"\n        alt=\"\"\n        onClick={handleClick}\n      />\n      {isOwn && <button className=\"element__trash\" onClick={handleDeleteClick} />}\n      <div className=\"element__info\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={isLiked ? handleDislikeClick : handleLikeClick}\n          />\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDislike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" onClick={onEditProfile} />\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" onClick={onAddPlace} />\n      </section>\n\n      <div className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n              onCardLike={onCardLike}\n              onCardDislike={onCardDislike}\n            />\n          ))}\n        </ul>\n      </div>\n\n      <section className=\"popup popup_delete\">\n        <div className=\"popup__container\">\n          <button className=\"popup__close\" />\n          <h2 className=\"popup__title popup__title_theme_delete\">Вы уверенны?</h2>\n          <form className=\"popup__form-container\" name=\"popup-delete\">\n            <input\n              type=\"submit\"\n              className=\"popup__button popup__button_theme_delete\"\n              defaultValue=\"Да\"\n            />\n          </form>\n        </div>\n      </section>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction PopupWithForm({ isOpen, children, onClose, name, title, submit, onSubmit }) {\n  return (\n    <section\n      className={`popup popup_${name} ${isOpen && `popup_opened`} `}\n      onClick={(evt) => evt.target === evt.currentTarget && { onClose }}\n    >\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" onClick={onClose} />\n        <form className=\"popup__form-container\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__title\">{title}</h2>\n          <fieldset className=\"popup__form\">\n            {children}\n            <input type=\"submit\" className=\"popup__button\" value={submit} onClick={onClose} />\n          </fieldset>\n        </form>\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithForm\n","import React from 'react'\n\nfunction ImagePopup({ card, onClose, name }) {\n  return (\n    <section className={`popup popup_${name} ${card && 'popup_opened'}`}>\n      <div className=\"popup__container-place\">\n        <img src={card && card.link} className=\"popup__image\" alt={card && card.name} />\n        <p className=\"popup__place\">{card && card.name}</p>\n        <button className=\"popup__close\" onClick={onClose} />\n      </div>\n    </section>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl\n    this.headers = headers\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(new Error(`Что-то пошло не так: ${res.status}`))\n  }\n  getAllInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  addCard(item) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  editAvatar(item) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  putLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  removeLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: 'e63db112-531a-4c6f-ae02-ccc048d1696b',\n    'Content-Type': 'application/json',\n  },\n})\nexport default api\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const handleNameChange = (e) => {\n    setName(e.target.value)\n  }\n  const handleJobChange = (e) => {\n    setDescription(e.target.value)\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      submit=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          className=\"popup__name popup__input\"\n          placeholder=\"Имя\"\n          value={name || ''}\n          onChange={handleNameChange}\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span className=\"popup__input-error\" id=\"name-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"job\"\n          name=\"about\"\n          className=\"popup__job popup__input\"\n          placeholder=\"Профессия\"\n          value={description || ''}\n          onChange={handleJobChange}\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        <span className=\"popup__input-error\" id=\"job-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      submit=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"url\"\n          id=\"link\"\n          name=\"avatar\"\n          className=\"popup__job popup__job_theme_place popup__input\"\n          placeholder=\"Ссылка на аватар\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  const nameRef = React.useRef()\n  const linkRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-place\"\n      title=\"Новое место\"\n      submit=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"place\"\n          name=\"name\"\n          className=\"popup__name popup__name_theme_place popup__input\"\n          placeholder=\"Название\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n          ref={nameRef}\n        />\n        <span className=\"popup__input-error\" id=\"place-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          type=\"url\"\n          id=\"link\"\n          name=\"link\"\n          className=\"popup__job popup__job_theme_place popup__input\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          ref={linkRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\nexport default AddPlacePopup\n","import React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/Api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  React.useEffect(() => {\n    api\n      .getAllInfo()\n      .then((res) => {\n        const [dataCards, dataProfile] = res\n        setCards(dataCards)\n        setCurrentUser(dataProfile)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    const handleEscClose = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n    document.addEventListener('keydown', handleEscClose)\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  })\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api\n      .putLike(card._id, !isLiked) // Отправляем запрос в API и получаем обновлённые данные карточки\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c)) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        setCards(newCards) // Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleCardDislike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api\n      .removeLike(card._id, !isLiked) // Отправляем запрос в API и получаем обновлённые данные карточки\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c)) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        setCards(newCards) // Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleCardDelete = (id) => {\n    api\n      .deleteCard(id)\n      .then(() => {\n        const newCards = cards.filter((item) => item._id !== id)\n        setCards(newCards)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleUpdateUser = (data) => {\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api\n      .editAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api\n      .addCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n  const handleCardClick = (selectedCard) => {\n    setSelectedCard(selectedCard)\n  }\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard(null)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n            onCardDislike={handleCardDislike}\n            cards={cards}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <PopupWithForm name=\"delete\" title=\"Вы уверенны?\" submit=\"Да\" />\n          <ImagePopup name=\"photo-zoom\" card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/logo-mesto.c6f11019.svg\";"],"sourceRoot":""}