{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js","images/logo-mesto.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","onCardDislike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","type","defaultValue","PopupWithForm","isOpen","children","onClose","title","submit","onSubmit","noValidate","value","ImagePopup","api","baseUrl","headers","this","res","ok","json","Promise","reject","Error","status","all","getInitialCards","getUserInfo","fetch","then","_handleOriginalResponse","item","method","body","JSON","stringify","id","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","onChange","target","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","getAllInfo","dataCards","dataProfile","catch","err","console","log","closeAllPopups","Provider","deleteCard","newCards","filter","putLike","newCard","c","removeLike","data","setUserInfo","editAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9af54ebd.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/logo-mesto.svg';\n\nfunction Header () {\n  return (\n      <header className=\"header\">\n        <img src={logo} className=\"logo\" alt=\"Логотип\"/>\n      </header>\n  )\n}\n\nexport default Header","import React from 'react';\n\nfunction Footer () {\n  return (\n    <footer className=\"footer\">\n      <h4 className=\"footer__author\">&copy; 2020 Mesto Russia</h4>\n    </footer>\n  )\n}\n\nexport default Footer","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n\n \n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\n\nfunction Card ({card, onCardClick, onCardDelete, onCardLike, onCardDislike}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id // Определяем, являемся ли мы владельцем текущей карточки\n \n  const isLiked = card.likes.some(i => i._id === currentUser._id) // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n\n  const cardLikeButtonClassName = (\n    `element__like ${isLiked && 'element__like_theme_black'}`\n  );\n    const handleClick = () => {\n      onCardClick(card)\n    } \n    const handleDeleteClick = () => {\n      onCardDelete(card._id)\n    }\n    const handleLikeClick = () => {\n      onCardLike(card)\n    }\n    const handleDislikeClick = () => {\n      onCardDislike(card)\n    }\n\n  return (\n    <li className=\"element\">\n      <img \n        style={{ backgroundImage: `url(${card.link})` }} \n        className=\"element__image\"\n        alt=\"\"\n        onClick={handleClick}\n      />\n      {isOwn && <button className=\"element__trash\" onClick={handleDeleteClick} />}\n      <div className=\"element__info\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button \n            className={cardLikeButtonClassName}\n            onClick={isLiked ? handleDislikeClick : handleLikeClick}\n          />\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main ({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDislike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n    <section className=\"profile\">\n      <button \n        className=\"profile__avatar\" \n        style={{ backgroundImage: `url(${currentUser.avatar})` }} \n        onClick={onEditAvatar}\n      />\n      <div className=\"profile__info\">\n        <h1 className=\"profile__name\">{currentUser.name}</h1>\n        <button className=\"profile__edit-button\" onClick={onEditProfile}/>\n      <p className=\"profile__job\">{currentUser.about}</p>\n      </div>\n      <button className=\"profile__add-button\" onClick={onAddPlace}/>\n    </section>\n\n    <div className=\"elements\">\n      <ul className=\"elements__list\">\n       {cards.map(card =>\n            <Card key={card._id}\n              card={card}\n              onCardClick = {onCardClick}\n              onCardDelete = {onCardDelete}\n              onCardLike = {onCardLike}\n              onCardDislike = {onCardDislike}\n            />\n          )} \n      </ul>\n    </div>\n\n    <section className=\"popup popup_delete\"> \n      <div className=\"popup__container\"> \n        <button className=\"popup__close\"/>\n        <h2 className=\"popup__title popup__title_theme_delete\">Вы уверенны?</h2> \n        <form className=\"popup__form-container\" name=\"popup-delete\"> \n          <input\n           type=\"submit\" \n           className=\"popup__button popup__button_theme_delete\" \n           defaultValue=\"Да\"\n          /> \n        </form> \n      </div> \n    </section>\n\n  </main>\n  )\n}\n\nexport default Main\n\n   ","import React from 'react';\n\nfunction PopupWithForm ({isOpen, children, onClose, name, title, submit, onSubmit}) {\n\n  return (\n    <section className={`popup popup_${name} ${isOpen && `popup_opened`} `}>\n    <div className=\"popup__container\">\n      <button className=\"popup__close\" onClick={onClose}/>\n      <form className=\"popup__form-container\"  name={name} onSubmit={onSubmit} noValidate>\n        <h2 className=\"popup__title\">{title}</h2>\n        <fieldset className=\"popup__form\">\n          {children}\n        <input \n          type=\"submit\" \n          className=\"popup__button\" \n          value={submit} \n          onClick={onClose}\n        />\n        </fieldset>\n      </form>\n    </div>\n  </section>\n  )\n}\n\nexport default PopupWithForm","import React from 'react';\n\nfunction ImagePopup ({card, onClose, name}) {\n  return (\n    <section className={`popup popup_${name} ${card && 'popup_opened'}`}>\n    <div className=\"popup__container-place\">\n      <img src={card && card.link} className=\"popup__image\" alt={card && card.name}/>\n      <p className=\"popup__place\">{card && card.name}</p>\n      <button className=\"popup__close\" onClick={onClose}/>\n    </div>\n  </section>\n  )\n}\n\nexport default ImagePopup","class Api {\n    constructor ({ baseUrl, headers}) {\n      this.baseUrl = baseUrl\n      this.headers = headers\n    }\n  \n    _handleOriginalResponse(res) {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(new Error(`Что-то пошло не так: ${res.status}`))\n    }\n    getAllInfo () {\n      return Promise.all([ this.getInitialCards(), this.getUserInfo() ])\n    }\n  \n    getInitialCards () {\n      return fetch(`${this.baseUrl}/cards`, {\n        headers: this.headers\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    addCard (item) {\n      return fetch(`${this.baseUrl}/cards`, {\n        method: \"POST\",\n        headers: this.headers,\n        body: JSON.stringify(item)\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    deleteCard (id) {\n      return fetch(`${this.baseUrl}/${id}`, {\n        method: \"DELETE\",\n        headers: this.headers\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    getUserInfo () {\n      return fetch(`${this.baseUrl}/users/me`, {\n        headers: this.headers\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    setUserInfo (item) {\n      return fetch (`${this.baseUrl}/users/me`, {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify(item)\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    editAvatar (item) {\n      return fetch (`${this.baseUrl}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: this.headers,\n        body: JSON.stringify(item)\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    putLike (id) {\n      return fetch (`${this.baseUrl}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: this.headers\n      })\n      .then(this._handleOriginalResponse)\n    }\n  \n    removeLike (id) {\n      return fetch (`${this.baseUrl}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: this.headers\n      })\n      .then(this._handleOriginalResponse)\n    }\n  }\n  \n  const api = new Api ({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n    headers: {\n      authorization: 'e63db112-531a-4c6f-ae02-ccc048d1696b',\n      'Content-Type': 'application/json'\n    }\n  })\n  export default api\n","import React from 'react'\nimport  PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\n\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser}) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const handleNameChange = (e) => {\n    setName(e.target.value)\n  }\n  const handleJobChange = (e) => {\n    setDescription(e.target.value)\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  },[currentUser] ) \n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description\n    })\n  } \n\n  return (\n    <PopupWithForm \n      name='edit-profile'\n      title='Редактировать профиль' \n      submit='Сохранить' \n      isOpen = {isOpen} \n      onClose = {onClose}\n      onSubmit= {handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input \n        type=\"text\" \n        id=\"name\" \n        name=\"name\" \n        className=\"popup__name popup__input\" \n        placeholder=\"Имя\" \n        value={name || ''} \n        onChange={handleNameChange}\n        required \n        minLength=\"2\" \n        maxLength=\"40\"\n        />\n        <span className=\"popup__input-error\" id=\"name-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input \n        type=\"text\" \n        id=\"job\" \n        name=\"about\" \n        className=\"popup__job popup__input\" \n        placeholder=\"Профессия\" \n        value={description || ''}\n        onChange={handleJobChange}\n        required \n        minLength=\"2\" \n        maxLength=\"200\"\n       />\n        <span className=\"popup__input-error\" id=\"job-error\"></span>\n      </div>\n      </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup","import React from 'react'\nimport  PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar}) {\n  const avatarRef = React.useRef()\n\n  const  handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    })\n  } \n\n  return (\n    <PopupWithForm \n      name='edit-avatar' \n      title='Обновить аватар' \n      submit='Сохранить' \n      isOpen = {isOpen} \n      onClose = {onClose}\n      onSubmit= {handleSubmit}\n    >\n    <div className=\"popup__input-container\">\n      <input \n        type=\"url\" \n        id=\"link\" \n        name=\"avatar\" \n        className=\"popup__job popup__job_theme_place popup__input\" \n        placeholder=\"Ссылка на аватар\" \n        required \n        ref={avatarRef}\n      />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n    </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import React from 'react'\nimport  PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup ({ onClose, isOpen, onAddPlace}) {\n  const nameRef = React.useRef()\n  const linkRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlace({\n     name: nameRef.current.value,\n     link: linkRef.current.value\n    })\n  } \n\n  return (\n    <PopupWithForm \n      name='add-place' \n      title='Новое место' \n      submit='Создать' \n      isOpen = {isOpen} \n      onClose = {onClose}\n      onSubmit= {handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input \n          type=\"text\" \n          id=\"place\" \n          name=\"name\"\n          className=\"popup__name popup__name_theme_place popup__input\" \n          placeholder=\"Название\" \n          required \n          minLength=\"1\" \n          maxLength=\"30\"\n          ref={nameRef}\n        />\n        <span className=\"popup__input-error\" id=\"place-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input \n          type=\"url\" \n          id=\"link\" \n          name=\"link\"\n          className=\"popup__job popup__job_theme_place popup__input\" \n          placeholder=\"Ссылка на картинку\" \n          required\n          ref={linkRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\nexport default AddPlacePopup","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\n\nconst  App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n  \n  React.useEffect(() => {\n    api.getAllInfo()\n    .then(res => {\n      const [dataCards, dataProfile] = res\n      setCards(dataCards)\n      setCurrentUser(dataProfile)\n    })\n    .catch((err) => { console.log(err) })\n  }, [])\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api.putLike(card._id, !isLiked)  // Отправляем запрос в API и получаем обновлённые данные карточки\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      setCards(newCards)  // Обновляем стейт\n    })\n    .catch((err) => { console.log(err) })\n  }\n  \n  const handleCardDislike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api.removeLike(card._id, !isLiked)  // Отправляем запрос в API и получаем обновлённые данные карточки\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      setCards(newCards)  // Обновляем стейт\n    })\n    .catch((err) => { console.log(err) })\n  }\n\n  const handleCardDelete = (id) => {\n    api.deleteCard(id)\n    .then(() => {\n      const newCards = cards.filter(item => item._id !== id)\n      setCards (newCards)\n    })\n    .catch((err) => { console.log(err) })\n  }\n\n  const handleUpdateUser = (data) => {\n    api.setUserInfo(data)\n    .then(res => {\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch((err) => { console.log(err) })\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.editAvatar(data)\n    .then(res => {\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch((err) => { console.log(err) })\n  }\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api.addCard(newCard)\n    .then(newCard => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => { console.log(err) })\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n  const handleCardClick = (selectedCard) => {\n    setSelectedCard(selectedCard)\n  }\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard(null)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <div className=\"page__container\">\n      <Header />\n      <Main \n        onEditAvatar = {handleEditAvatarClick}\n        onEditProfile = {handleEditProfileClick}\n        onAddPlace = {handleAddPlaceClick}\n        onCardClick = {handleCardClick}\n        onCardDelete = {handleCardDelete}\n        onCardLike = {handleCardLike}\n        onCardDislike = {handleCardDislike}\n        cards = {cards}\n      />\n      <Footer />\n      <EditProfilePopup \n        isOpen = {isEditProfilePopupOpen} \n        onClose = {closeAllPopups} \n        onUpdateUser = {handleUpdateUser}\n      />\n      <EditAvatarPopup \n        isOpen = {isEditAvatarPopupOpen} \n        onClose = {closeAllPopups} \n        onUpdateAvatar = {handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen = {isAddPlacePopupOpen}\n        onClose = {closeAllPopups} \n        onAddPlace = {handleAddPlaceSubmit}\n      />\n      <PopupWithForm name='delete' title='Вы уверенны?' submit='Да'/>\n      <ImagePopup name = 'photo-zoom' card={selectedCard} onClose = {closeAllPopups}/>\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo-mesto.c6f11019.svg\";"],"sourceRoot":""}